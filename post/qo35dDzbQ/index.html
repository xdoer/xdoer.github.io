<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥ |
    æ–‡äº«æ—¥å¿—</title>
<meta name="description" content="">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://aiyou.life/favicon.ico?v=1642938807452">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://aiyou.life/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism.css">


  
    <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css" />
  

  

<!-- <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script> -->

<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://aiyou.life">æ–‡äº«æ—¥å¿—</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="/" class="menu">
                é¦–é¡µ
              </a>
            
          </li>
        
          <li>
            
              <a href="/archives" class="menu">
                å½’æ¡£
              </a>
            
          </li>
        
          <li>
            
              <a href="/tags" class="menu">
                æ ‡ç­¾
              </a>
            
          </li>
        
          <li>
            
              <a href="/post/about" class="menu">
                å…³äº
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥</h1>
            <p class="article-meta">
              2020-09-05 
              <a
                href="https://aiyou.life/tag/K1r5vpFd_/"
                class="badge secondary"
              >
                å‰ç«¯
              </a>
              
            </p>
            
            <img src="https://aiyou.life/post-images/qo35dDzbQ.jpeg" alt="å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥" />
            
            <div class="post-content"><p>å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥æŠ€æœ¯æ˜¯ä¸€ä¸ªéš¾é¢˜ï¼Œæ— è®ºæ˜¯åœ¨å‰ç«¯è¿˜æ˜¯APPç«¯ã€‚æ–‡å­—ä½•æ—¶æ¢è¡Œï¼Œæ¢è¡Œçš„æ˜¯å“ªä¸€ä¸ªå­—ï¼Œæ–‡å­—ä¼šå ç”¨å‡ è¡Œéƒ½éš¾ä»¥ç²¾ç¡®è®¡ç®—å’Œä¼°é‡ã€‚æœ¬æ–‡å°†æ¢è®¨å’Œå®ç°ä¸€ç§ç›¸å¯¹å®Œç¾çš„æ–¹æ³•ã€‚</p>
<!-- more -->
<h1 id="å•è¡Œæ–‡æœ¬çœç•¥">å•è¡Œæ–‡æœ¬çœç•¥</h1>
<p>å•è¡Œæ–‡æœ¬çœç•¥è¾ƒä¸ºç®€å•ï¼Œä¸”å…¼å®¹æ€§è¾ƒå¥½ã€‚</p>
<p>è¦å®ç°å•è¡Œæ–‡æœ¬çœç•¥ï¼Œä¸‹é¢CSSå±æ€§ç¼ºä¸€ä¸å¯</p>
<pre><code class="language-css">width: 100px;  // å›ºå®šå®½åº¦
overflow: hidden;   // æº¢å‡ºéšè—
white-space: nowrap;    // æ–‡å­—ä¸æ¢è¡Œ
text-overflow: ellipsis;    // æ–‡å­—æº¢å‡ºæˆªæ–­
</code></pre>
<h1 id="å¤šè¡Œæ–‡æœ¬çœç•¥">å¤šè¡Œæ–‡æœ¬çœç•¥</h1>
<p>å½“æ¥åˆ°è¿™ä¸ªéœ€æ±‚çš„æ—¶å€™ï¼Œè€ƒè™‘åˆ°æˆ‘ä»¬äº§å“è¿è¡Œåœ¨å¾®ä¿¡å°ç¨‹åºï¼Œè€Œå°ç¨‹åºåœ¨IOSå’Œå®‰å“å¹³å°éƒ½æ˜¯ç”¨äº†webkitå†…æ ¸, å› è€Œä¸‹é¢çš„ä»£ç åº”å½“åœ¨ä¸¤ä¸ªå¹³å°éƒ½å¯ä»¥å¾ˆå¥½è¿è¡Œã€‚</p>
<p>webkit å†…æ ¸çš„æµè§ˆå™¨å¯ä»¥åŸç”Ÿå®ç°å¤šè¡Œæ–‡æœ¬æº¢å‡ºçœç•¥ã€‚</p>
<pre><code class="language-css">display: -webkit-boxï¼›
-webkit-box-orient: vertical;
-webkit-line-clamp: 2;
overflow: hiddenï¼›
text-overflow: ellipsisï¼›
</code></pre>
<p>ç„¶è€Œäº‹å®å¹¶éå¦‚æ­¤ã€‚å®é™…ä¸Šé¢ä»£ç åœ¨å®‰å“å¯ä»¥è¿è¡Œï¼Œä½†åœ¨IOSä¸‹åˆ™ç©ºç™½ã€‚<br>
<img src="https://aiyou.life/post-images/1599296417880.png" alt="" loading="lazy"></p>
<div style="text-align:center;font-size:80%">line-clampå…¼å®¹æ€§</div>
<figure data-type="image" tabindex="1"><img src="https://aiyou.life/post-images/1599295340251.png" alt="" loading="lazy"></figure>
<div style="text-align:center;font-size:80%">å¾®ä¿¡å°ç¨‹åºè¿è¡Œç¯å¢ƒ</div>
<figure data-type="image" tabindex="2"><img src="https://aiyou.life/post-images/1599296818625.png" alt="" loading="lazy"></figure>
<div style="text-align:center;font-size:80%">IOS WkWebView åŸºäº Webkit</div>
<p>æ‰¾äº†åŠå¤©èµ„æ–™ï¼Œä¹Ÿæ²¡æœ‰æ‰¾åˆ°åŸå› ã€‚çŒœæƒ³å¯èƒ½ WkWebView ä¸­çš„ webkit ç‰ˆæœ¬å¤ªä½çš„ç¼˜æ•…ã€‚</p>
<p>æ—¢ç„¶ä¸Šé¢çš„ä»£ç ä¸èƒ½ä½¿ç”¨ï¼Œåªèƒ½å°è¯•å…¶ä»–åŠæ³•ã€‚</p>
<h2 id="js-æ–¹å¼">JS æ–¹å¼</h2>
<p>JSè®¡ç®—è£å‰ªçš„æ–¹å¼è¢«æ’é™¤äº†</p>
<ul>
<li>ç¬¬ä¸€ï¼Œè¿™æœ‰æ‚–äºè¡Œä¸ºä¸å±•ç¤ºç›¸åˆ†ç¦»çš„ç†å¿µ</li>
<li>ç¬¬äºŒï¼Œè¦è€ƒè™‘æ±‰å­—ï¼Œè‹±æ–‡å­—æ¯ï¼Œå›¾æ ‡ï¼Œå…¨è§’åŠè§’ç¬¦å·ç­‰æ‰èƒ½ç›¸å¯¹å‡†ç¡®ç®—å‡ºæ–‡å­—å ç”¨å‡ è¡Œï¼Œè¦ä¸è¦è£åˆ‡</li>
<li>ç¬¬ä¸‰ï¼Œæˆ‘ä»¬çš„ä½¿ç”¨åœºæ™¯ä¸­è¦è§£æå¯Œæ–‡æœ¬ï¼Œå¯¹äºHTMLæ ‡ç­¾ï¼Œé“¾æ¥åœ°å€ç­‰è¦è€ƒè™‘çš„è¾ƒå¤šï¼Œå®ç°æ–¹æ¡ˆè¾ƒä¸ºå¤æ‚</li>
</ul>
<h2 id="css-æ–¹å¼">CSS æ–¹å¼</h2>
<h3 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h3>
<p>å¾ˆå®¹æ˜“å†™ä¸‹ä¸‹é¢è¿™äº›ä»£ç ï¼Œç¼ºç‚¹æ˜¯å›ºå®šé«˜åº¦ï¼Œæ–‡å­—æ•°é‡å¿…é¡»è¶…è¿‡ä¸¤è¡Œï¼Œå½“æ–‡å­—åªæœ‰ä¸€è¡Œæˆ–ä¸¤è¡Œæ—¶ï¼Œéƒ½ä¼šæ˜¾ç¤ºæœ«å°¾çš„çœç•¥å·ã€‚ä¸”æ–‡å­—è¶…è¿‡ä¸¤è¡Œï¼Œæœ«å°¾çš„çœç•¥å·æœ‰å¯èƒ½é®æŒ¡ä½ä¸€åŠçš„å­—ç¬¦ã€‚è¿™æ ·çš„æ•ˆæœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<pre><code class="language-css">.container {
    position: 'relative';
    width: 200px;
    height: 40px;
    line-height: 20px;
    overflow: hidden;
}
.container::after {
    content: '...';
    display: 'block';
    position: 'absolute';
    right: 0;
    bottom: 0;
}
</code></pre>
<h3 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h3>
<p>CSS å¤„ç†çš„éš¾ç‚¹åœ¨äºçŸ¥é“æœ‰æ²¡æœ‰æ¢è¡Œï¼Œæ€è€ƒè‰¯ä¹…åæ— æœï¼Œä»ç½‘ä¸Šæ‰¾äº†æ‰¾èµ„æ–™ï¼Œå‘ç°ä¸€ç§å¾ˆå·§å¦™çš„åŠæ³•ã€‚è§£å†³äº†ä¸€éƒ¨åˆ†é—®é¢˜ã€‚</p>
<p>è¯¥æ–¹æ³•åˆ©ç”¨æµ®åŠ¨å…ƒç´ ç‰¹æ€§å®ç°ã€‚åŸç†å¾ˆç®€å•ï¼Œä½†æƒ³æ³•å¾ˆç‹¬ç‰¹ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªé™å®šä¸¤è¡Œçš„ä¾‹å­ã€‚</p>
<h4 id="ç¬¬ä¸€æ­¥åˆ›å»ºå¦‚å›¾å¸ƒå±€">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºå¦‚å›¾å¸ƒå±€</h4>
<figure data-type="image" tabindex="3"><img src="https://aiyou.life/post-images/1599306945438.gif" alt="" loading="lazy"></figure>
<div style="text-align:center;font-size:80%">ç¬¬ä¸€æ­¥</div>
<pre><code class="language-html">&lt;div class=&quot;container&quot;&gt;
    &lt;div class=&quot;baseline&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;text&quot;&gt;è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬è¿™æ˜¯ä¸€æ®µå¾ˆé•¿çš„æ–‡æœ¬&lt;/div&gt;
    &lt;div class=&quot;omit&quot;&gt;...&lt;/div&gt;
&lt;/div&gt;
</code></pre>
<pre><code class="language-less">.container {
    background: #099;
    max-height: 40px;
    line-height: 20px;
    .baseline {
        float: left;
        width: 20px;
        height: 40px;
        background: yellow;
    }
    .text {
        float: right;
        width: calc(100% - 20px);
        background: blueviolet;
        word-break: break-all;
    }
    .omit {
        float: right;
        content: &quot;...&quot;;
        width: 20px;
        height: 20px;
        background: red;
    }
}
</code></pre>
<h4 id="ç¬¬äºŒæ­¥çœç•¥å·å½’ä½">ç¬¬äºŒæ­¥ï¼šçœç•¥å·å½’ä½</h4>
<figure data-type="image" tabindex="4"><img src="https://aiyou.life/post-images/1599314322562.gif" alt="" loading="lazy"></figure>
<div style="text-align:center;font-size:80%">ç¬¬äºŒæ­¥</div>
<pre><code class="language-less">...
    .omit {
        float: right;
        content: &quot;...&quot;;
        width: 20px;
        height: 20px;
        background: red;
        + position: relative;
        + left: 100%;
        + transform: translate(-100%, -100%);
    }
...
</code></pre>
<p>è¿™é‡Œåˆ©ç”¨ position: relative ç›¸å¯¹çˆ¶å…ƒç´ å°†è‡ªå·±å®šä½åˆ°äº†çˆ¶å…ƒç´ çš„å®½åº¦å¤–ï¼Œä¹‹ååˆ©ç”¨ transform å‘ä¸Šå‘å·¦ç§»åŠ¨äº†ä¸€ä¸ªè‡ªå·±çš„å®½é«˜ã€‚å½“åªæœ‰ä¸€è¡Œæ—¶ï¼Œçœç•¥å·ç§»å‡ºäº†è§†çº¿ä¹‹å¤–ï¼Œå½“ä¸¤è¡Œæ—¶ï¼Œçœç•¥å·å›å½’äº†æ­£ç¡®çš„ä½ç½®ã€‚</p>
<h4 id="ç¬¬ä¸‰æ­¥éšè—å¤šä½™å…ƒç´ ">ç¬¬ä¸‰æ­¥ï¼šéšè—å¤šä½™å…ƒç´ </h4>
<figure data-type="image" tabindex="5"><img src="https://aiyou.life/post-images/1599315200026.gif" alt="" loading="lazy"></figure>
<div style="text-align:center;font-size:80%">ç¬¬ä¸‰æ­¥</div>
<pre><code class="language-less">...
.container {
    background: #099;
    max-height: 40px;
    line-height: 20px;
    ++ overflow: hidden;
    ...
    .text {
        float: right;
        -- width: calc(100% - 20px);
        ++ width: 100%;
        ++ margin-left: -20px;
        background: blueviolet;
        word-break: break-all;
    }
...
</code></pre>
<p>è¿™é‡Œä½¿ç”¨ margin-left ä¸ºè´Ÿï¼Œç›–ä½äº† baseline å…ƒç´ ã€‚è¿™æ ·ä¿è¯äº†åŸºæœ¬å¸ƒå±€ä¸å˜ï¼Œä¸”è¾¾åˆ°äº†å½±è—æ— å…³å…ƒç´ çš„ä½œç”¨ã€‚ç”±äºåœ¨çˆ¶å…ƒç´ ä¸­è®¾å®šäº† overflow: hidden, æ¸…é™¤æµ®åŠ¨ï¼Œæ‰€ä»¥çˆ¶å…ƒç´ çš„èƒŒæ™¯é¢œè‰²æ˜¾ç¤ºå‡ºæ¥äº†ã€‚</p>
<h4 id="å±€é™æ€§">å±€é™æ€§</h4>
<figure data-type="image" tabindex="6"><img src="https://aiyou.life/post-images/1599316233622.gif" alt="" loading="lazy"></figure>
<div style="text-align:center;font-size:80%">å±€é™</div>
ä½¿ç”¨è¯¥ç§æ–¹å¼ï¼Œå±€é™åœ¨äºå›ºå®šé«˜åº¦ã€‚baseline å…ƒç´ å¿…é¡»è®¾å®šä¸ºå›ºå®šé«˜åº¦ï¼Œå› è€Œæ’‘èµ·äº†çˆ¶å…ƒç´ çš„é«˜åº¦ã€‚
<h4 id="æ³¨æ„">æ³¨æ„</h4>
<ul>
<li>container å…ƒç´ ä¸­ maxHeight/Height å¿…é¡»æ˜¯ LineHeight çš„æ•´æ•°å€ã€‚å€æ•°è¡¨ç¤ºé™åˆ¶å‡ è¡Œ</li>
<li>container å…ƒç´ ä¸­ maxHeight/Height è¦ä¸ baseline å…ƒç´ çš„ height ä¿æŒä¸€è‡´</li>
<li>baseline å…ƒç´ å®½åº¦è¦ä¸ emit å…ƒç´ å®½åº¦ä¿æŒä¸€è‡´</li>
<li>emit å…ƒç´ é«˜åº¦è¦ä¸º container å…ƒç´ çš„è¡Œé«˜</li>
</ul>
<h4 id="åº”ç”¨æ¡ˆä¾‹">åº”ç”¨æ¡ˆä¾‹</h4>
<figure data-type="image" tabindex="7"><img src="https://aiyou.life/post-images/1599318337342.png" alt="" loading="lazy"></figure>
<div style="text-align:center;font-size:80%">æŒ‡å°–æ¢æ¡ˆå°ç¨‹åºè¯„è®º</div>
<p>å¯¹æ¯”App Storeä¸­çš„è¯„è®ºï¼Œå¯ä»¥çœ‹å‡ºæˆ‘ä»¬çš„å®ç°è¿˜æ˜¯ç›¸å¯¹å®Œç¾<br>
<img src="https://aiyou.life/post-images/1599318937357.jpg" alt="" loading="lazy"></p>
<div style="text-align:center;font-size:80%">AppStoreè¯„è®º</div>
<h2 id="å‚è€ƒ">å‚è€ƒ</h2>
<p><a href="https://juejin.im/post/5dc15b35f265da4d432a3d10#heading-9">å¯èƒ½æ˜¯æœ€å…¨çš„ â€œæ–‡æœ¬æº¢å‡ºæˆªæ–­çœç•¥â€ æ–¹æ¡ˆåˆé›†</a></p>
</div>
          </article>
          <div class="simple-share">
            <a class="share-item" href="javascript:share.qzone()">QQç©ºé—´</a>
            <a class="share-item" href="javascript:share.weibo()">å¾®åš</a>
            <a class="share-item" href="javascript:share.facebook()"
              >Facebook</a
            >
            <a class="share-item" href="javascript:share.twitter()">Twitter</a>
          </div>
        </div>
        <div class="paper" data-aos="fade-in">
          
          <div class="next-post">
            <div class="next">
              ä¸‹ä¸€ç¯‡
            </div>
            <a href="https://aiyou.life/post/-d73T0KeE/">
              <h3 class="post-title">TSå­¦ä¹ ç¬”è®°</h3>
            </a>
          </div>
          
        </div>
         
        <div class="paper" data-aos="fade-in">
          <div id="gitalk-container"></div>
        </div>
          
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img
      src="https://aiyou.life/images/avatar.png?v=1642938807452"
      class="no-responsive avatar"
    />
    <div class="text-muted"></div>
    <div class="social-container">
       
      <a href="https://github.com/xdoer" target="_blank">
        <i class="fab fa-github"></i>
      </a>
        
      <a href="https://twitter.com/xxdoer1" target="_blank">
        <i class="fab fa-twitter"></i>
      </a>
        
      <a href="https://weibo.com/u/7407806835" target="_blank">
        <i class="fab fa-weibo"></i>
      </a>
          
      <a href="https://www.facebook.com/xxdoer" target="_blank">
        <i class="fab fa-facebook"></i>
      </a>
       
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      æœ€æ–°æ–‡ç« 
    </div>
    <div class="row">
      <ul>
         
        <li>
          <a href="https://aiyou.life/post/WTBK_yMNR/">è´¦æœ¬å¼€å‘å°è®°</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/7Ta0APQTd/">è®©ç”Ÿæ´»äº•äº•æœ‰æ¡</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/Fjnj0JDZ5/">å¯Œæ–‡æœ¬ç¼–è¾‘å™¨è½¬ä¸ºå—æ§ç»„ä»¶çš„ä¸€ç§æ€è·¯</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/zPGtmQi-5/">TS çš„ä¸€äº›é«˜çº§ç±»å‹å†™æ³•</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/QqaRhC3Gf/">Restful-API çš„ä¸€ç§åŠ¨æ€ç”Ÿæˆæ•°æ®ç±»å‹çš„æ–¹æ³•</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/SV2erlm_4/">å‡ ä¸ªDemo çœ‹æ‡‚ ESM ä¸ CommonJS å·®å¼‚</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/UNWTwtWxa/">Taro è‡ªå®šä¹‰ showModal</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/iWhkaOqqO/">å†™ä¸€ä¸ªå€’è®¡æ—¶ğŸ˜¢ï¼Ÿ</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/4XYWTWTx/">æƒ³åˆ°çš„ä¸€äº›å¾ˆå¥½çš„é¢è¯•é¢˜</a>
        </li>
          
        <li>
          <a href="https://aiyou.life/post/M4RcI3wfU/">ç”±å°è£…ä¸€ä¸ªè¯·æ±‚åº“æ‰€æƒ³åˆ°çš„</a>
        </li>
                                   
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      æ ‡ç­¾åˆ—è¡¨
    </div>
    <div class="row">
      
      <a
        href="https://aiyou.life/tag/df67loo-n/"
        class="badge secondary"
      >
        ç¬”è®°
      </a>
      
      <a
        href="https://aiyou.life/tag/K1r5vpFd_/"
        class="badge warning"
      >
        å‰ç«¯
      </a>
      
      <a
        href="https://aiyou.life/tag/E75leUW9b/"
        class="badge warning"
      >
        typescript
      </a>
      
      <a
        href="https://aiyou.life/tag/rSf0tu2pz/"
        class="badge secondary"
      >
        React
      </a>
      
      <a
        href="https://aiyou.life/tag/TfrzxMzWY/"
        class="badge secondary"
      >
        å°ç¨‹åº
      </a>
      
      <a
        href="https://aiyou.life/tag/TDgBvCzI8/"
        class="badge "
      >
        javascript
      </a>
      
      <a
        href="https://aiyou.life/tag/g_6wyy_ol/"
        class="badge warning"
      >
        ç½‘ç»œ
      </a>
      
      <a
        href="https://aiyou.life/tag/jp41-NU1u/"
        class="badge "
      >
        ReactNative
      </a>
      
      <a
        href="https://aiyou.life/tag/X7Cdzy-Hu/"
        class="badge success"
      >
        åšå®¢
      </a>
      
    </div>
  </div>
  <div class="paper">
    Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> |
    <a class="rss" href="https://aiyou.life/atom.xml" target="_blank"
      >RSS</a
    >
  </div>
</div>

    </div>

    
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
<!-- <script src="//cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-bash.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-typescript.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-jsx.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-tsx.min.js"></script> -->
<script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">
  AOS.init()

  // hljs.initHighlightingOnLoad()

</script>

<script type="application/javascript">
  // ä¸€è¨€
  function oneWord(element) {
    if (!element) return
    const xhr = new XMLHttpRequest()
    xhr.open('get', 'https://v1.hitokoto.cn/')
    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4) {
        element.innerText = JSON.parse(xhr.responseText).hitokoto
      }
    }
    xhr.send()
  }
  oneWord(document.querySelector('.text-muted'))
</script>

<script type="application/javascript">
  // åˆ†äº«
  var SimpleShare = function (options) {
    // get share content
    options = options || {}
    var url = options.url || window.location.href
    var title = options.title || document.title
    var content = options.content || ''
    var pic = options.pic || ''

    // fix content format
    url = encodeURIComponent(url)
    title = encodeURIComponent(title)
    content = encodeURIComponent(content)
    pic = encodeURIComponent(pic)

    // share target url
    var qzone =
      'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}&title={title}&pics={pic}&summary={content}'
    var weibo =
      'http://service.weibo.com/share/share.php?url={url}&title={title}&pic={pic}&searchPic=false'
    var tqq =
      'http://share.v.t.qq.com/index.php?c=share&a=index&url={url}&title={title}&appkey=801cf76d3cfc44ada52ec13114e84a96'
    var renren =
      'http://widget.renren.com/dialog/share?resourceUrl={url}&srcUrl={url}&title={title}&description={content}'
    var douban =
      'http://www.douban.com/share/service?href={url}&name={title}&text={content}&image={pic}'
    var facebook =
      'https://www.facebook.com/sharer/sharer.php?u={url}&t={title}&pic={pic}'
    var twitter = 'https://twitter.com/intent/tweet?text={title}&url={url}'
    var linkedin =
      'https://www.linkedin.com/shareArticle?title={title}&summary={content}&mini=true&url={url}&ro=true'
    var weixin = 'http://qr.topscan.com/api.php?text={url}'
    var qq =
      'http://connect.qq.com/widget/shareqq/index.html?url={url}&desc={title}&pics={pic}'

    // replace content functions
    function replaceAPI(api) {
      api = api.replace('{url}', url)
      api = api.replace('{title}', title)
      api = api.replace('{content}', content)
      api = api.replace('{pic}', pic)

      return api
    }

    // share target
    this.qzone = function () {
      window.open(replaceAPI(qzone))
    }
    this.weibo = function () {
      window.open(replaceAPI(weibo))
    }
    this.tqq = function () {
      window.open(replaceAPI(tqq))
    }
    this.renren = function () {
      window.open(replaceAPI(renren))
    }
    this.douban = function () {
      window.open(replaceAPI(douban))
    }
    this.facebook = function () {
      window.open(replaceAPI(facebook))
    }
    this.twitter = function () {
      window.open(replaceAPI(twitter))
    }
    this.linkedin = function () {
      window.open(replaceAPI(linkedin))
    }
    this.qq = function () {
      window.open(replaceAPI(qq))
    }
    this.weixin = function (callback) {
      if (!callback) {
        window.open(replaceAPI(weixin))
      } else {
        callback(replaceAPI(weixin))
      }
    }
  }
  var share = new SimpleShare()
</script>



<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script>
  var gitalk = new Gitalk({
    clientID: 'f9e29934c5621e13bb13',
    clientSecret: '6ca4b35e60834188ea98ca3be6fba3c21b5ad34a',
    repo: 'xdoer.github.io',
    owner: 'xdoer',
    admin: ['xdoer'],
    id: location.pathname.substring(0, 49), // Ensure uniqueness and length less than 50
    distractionFreeMode: false, // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')
</script>
  
<script>
  // ç‚¹å‡»æ–‡ç« å†…éƒ¨å›¾ç‰‡æŸ¥çœ‹å¤§å›¾
  const contentImagesEles = [...document.querySelectorAll('.post-content img')]
  const maskEle = document.querySelector('prev-mask')
  const containerEle = document.querySelector('image-container')
  const imgCloseEle = document.querySelector('img-close')
  const imgBigEle = document.querySelector('img-big')

  contentImagesEles.forEach((ele) => {
    ele.addEventListener('click', () => {
      const { currentSrc } = ele
      imgBigEle.attributes.currentSrc = currentSrc
      mask.style.display = 'block'
    })
  })

  imgCloseEle.addEventListener('click', () => {
    mask.style.display = 'none'
  })
</script>

  </body>
</html>
